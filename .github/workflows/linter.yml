name: Lint Go
on: [pull_request]

jobs:
  lint-go:
    name: Lint Go Using golangci and gofmt
    runs-on: ubuntu-latest
    steps:
      - name: Setup Go
        uses: actions/setup-go@v3
        with:
          go-version: 1.18
      - name: Checkout repo
        uses: actions/checkout@v3
      - name: Lint using golangci-lint
        uses: golangci/golangci-lint-action@v3
      - name: Lint using gofmt and git diff
        run: |
          go fmt ./...
          git diff | exit 1